<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç”Ÿæ—¥å¿«ä¹ ğŸ‚</title>
<style>
    * {margin:0; padding:0; box-sizing:border-box;}
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
        background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
        min-height:100vh;
        display:flex;
        justify-content:center;
        align-items:center;
        overflow-x:hidden;
    }
    .cake-container {text-align:center; color:white; animation:fadeIn 1s ease-in;}
    .cake-container h1 {font-size:3em; margin-bottom:30px; text-shadow:2px 2px 4px rgba(0,0,0,0.3);}
    .cake {width:250px; height:300px; margin:0 auto 30px; position:relative; cursor:pointer;}
    .cake-layer {
        width:200px; height:60px; background:linear-gradient(to bottom,#ff9a9e 0%,#fad0c4 100%);
        border-radius:10px; position:absolute; left:50%; transform:translateX(-50%);
        box-shadow:0 5px 15px rgba(0,0,0,0.3);
    }
    .layer1 {bottom:0;}
    .layer2 {bottom:60px; width:180px;}
    .layer3 {bottom:120px; width:160px;}
    .candle {
        width:10px; height:40px; background:#fff; position:absolute; bottom:180px;
        left:50%; transform:translateX(-50%); border-radius:5px 5px 0 0;
        box-shadow:0 2px 5px rgba(0,0,0,0.2);
    }
    .flame {
        width:20px; height:30px; background:radial-gradient(circle,#ffeb3b 0%,#ff9800 50%,transparent 70%);
        position:absolute; top:-25px; left:50%; transform:translateX(-50%);
        border-radius:50% 50% 50% 50%/60% 60% 40% 40%;
        animation:flicker 0.3s infinite alternate;
    }
    .flame.blown {animation: blowOut 0.5s forwards;}
    @keyframes flicker {0%{transform:translateX(-50%) scale(1);}100%{transform:translateX(-50%) scale(1.1);}}
    @keyframes blowOut {to{opacity:0; transform:translateX(-50%) translateY(-30px) scale(0.5);}}
    .instruction {font-size:1.3em; margin-top:20px; opacity:0.9;}
    .start-btn {
        margin-top:30px; padding:18px 45px; background:white; color:#667eea;
        border:none; border-radius:50px; cursor:pointer; font-size:1.3em; font-weight:bold;
        box-shadow:0 5px 20px rgba(0,0,0,0.4); transition:all 0.3s ease;
        animation:float 3s ease-in-out infinite; position:relative; z-index:10;
    }
    .start-btn:hover {transform:translateY(-5px); box-shadow:0 8px 25px rgba(0,0,0,0.5);}
    @keyframes float {0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
    .hidden {display:none;}
    .main-content {padding:40px 20px; width:100%; max-width:1400px; animation:slideIn 0.8s ease-out;}
    .header {text-align:center; color:white; margin-bottom:40px;}
    .header h1 {font-size:3em; margin-bottom:15px; text-shadow:2px 2px 4px rgba(0,0,0,0.3);}
    .cards-container {display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:30px; margin-bottom:30px;}
    .card {perspective:1000px; min-height:400px; cursor:pointer;}
    .card-inner {position:relative; width:100%; height:100%; transition:transform 0.6s; transform-style:preserve-3d;}
    .card.flipped .card-inner {transform:rotateY(180deg);}
    .card-front, .card-back {
        position:absolute; width:100%; min-height:400px; backface-visibility:hidden;
        border-radius:15px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.3);
    }
    .card-front {background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%); color:white; display:flex; flex-direction:column; justify-content:center; align-items:center;}
    .card-back {background:white; transform:rotateY(180deg); overflow-y:auto;}
    .card-icon {font-size:4em; margin-bottom:15px;}
    .card-front h3 {font-size:2em; text-align:center; text-shadow:1px 1px 2px rgba(0,0,0,0.2);}
    .card-back h4 {color:#667eea; font-size:1.6em; margin-bottom:20px; text-align:center;}
    .card-back p {color:#333; line-height:1.8; margin-bottom:15px; text-align:left;}
    .card-back .date {margin-top:20px; font-style:italic; color:#888; font-size:0.9em; text-align:center;}
    .music-player {
        position:fixed; bottom:20px; right:20px; z-index:1000;
        background:rgba(255,255,255,0.9); padding:10px 15px; border-radius:25px;
        box-shadow:0 3px 15px rgba(0,0,0,0.2); backdrop-filter:blur(10px);
        font-size:0.9em; color:#667eea; display:none;
    }
    .music-player.show {display:block; animation:slideInRight 0.5s ease-out;}
    @keyframes fadeIn {from{opacity:0; transform:translateY(-20px);} to{opacity:1; transform:translateY(0);}}
    @keyframes slideIn {from{opacity:0; transform:translateX(-50px);} to{opacity:1; transform:translateX(0);}}
    @keyframes slideInRight {from{opacity:0; transform:translateX(100px);} to{opacity:1; transform:translateX(0);}}
    .filter-container {display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin-bottom:40px;}
    .filter-btn {padding:12px 25px; background:white; color:#667eea; border:none; border-radius:25px; cursor:pointer; font-size:1em; font-weight:bold; transition:all 0.3s ease; box-shadow:0 4px 10px rgba(0,0,0,0.2);}
    .filter-btn:hover {transform:translateY(-2px); box-shadow:0 6px 15px rgba(0,0,0,0.3);}
    .filter-btn.active {background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%); color:white;}
    .random-btn {padding:15px 35px; background:white; color:#667eea; border:none; border-radius:50px; cursor:pointer; font-size:1.1em; font-weight:bold; box-shadow:0 5px 15px rgba(0,0,0,0.3); transition:all 0.3s ease; margin:0 auto; display:block;}
    .random-btn:hover {transform:translateY(-2px); box-shadow:0 7px 20px rgba(0,0,0,0.4);}
    @media(max-width:768px){.header h1{font-size:2em;} .cards-container{grid-template-columns:1fr;} .filter-container{gap:10px;} .filter-btn{padding:10px 20px; font-size:0.9em;}}
</style>
</head>
<body>

<!-- Birthday Cake Screen -->
<div class="cake-container" id="cakeScreen">
    <h1>ğŸ‰ ç”Ÿæ—¥å¿«ä¹ï¼ğŸ‰</h1>
    <p style="font-size:1.1em; margin-bottom:20px; line-height:1.6; max-width:600px; margin-left:auto; margin-right:auto; opacity:0.95;">
        åˆæ˜¯ä¸€å¹´ï¼è¿˜æ˜¯ä¸€ä»½ç”µå­ç¤¼ç‰©ï¼Œä¸è¿‡åœ¨å‡ ä¸ªæœˆå‰å°±å¼€å§‹æƒ³ï¼Œè¯¥é€ä»€ä¹ˆã€‚åæ¥è§‰å¾—ï¼Œä¹Ÿè®¸å¯ä»¥åˆ†äº«ä¸€äº›å›å¿†ã€‚
    </p>
    <div class="cake" id="cake">
        <div class="cake-layer layer3"></div>
        <div class="cake-layer layer2"></div>
        <div class="cake-layer layer1"></div>
        <div class="candle">
            <div class="flame" id="flame"></div>
        </div>
    </div>
    <p class="instruction">ğŸ’¨ è¯·å…ˆè®¸ä¸ªæ„¿ï¼Œç‚¹å‡»è›‹ç³•æŠŠèœ¡çƒ›å¹ç­</p>
    <button class="start-btn" id="startBtn">ğŸ æ‰“å¼€è¿™å°ä¿¡</button>
</div>

<!-- Main Content -->
<div class="main-content hidden" id="mainContent">
    <div class="header">
        <h1>âœ¨ æˆ‘ä»¬çš„å›å¿† âœ¨</h1>
        <p style="margin-bottom:20px;">é€‰æ‹©ä¸€ä¸ªå…³é”®è¯æ¥æ¢ç´¢å›å¿†ï¼Œæˆ–ç‚¹å‡»ä»»æ„å¡ç‰‡</p>
        <div class="filter-container">
            <button class="filter-btn active" data-filter="school">æ ¡å›­ç¢ç‰‡</button>
            <button class="filter-btn" data-filter="music">æ­Œæ›²è®°å¿†</button>
            <button class="filter-btn" data-filter="thoughts">ç¢ç¢å¿µ</button>
            <button class="filter-btn" data-filter="journey">æ—…è¡Œè®°å¿†</button>
        </div>
    </div>
    <div class="cards-container" id="cardsContainer"></div>
    <button class="random-btn" onclick="revealRandomCard()">ğŸ² éšæœºç¿»å¼€ä¸€å¼ å›å¿†</button>
</div>

<!-- Background Music Player -->
<div class="music-player" id="musicPlayer">
    <div class="music-info">ğŸµ Letter - S.H.E (Live)</div>
    <audio id="bgMusic" loop>
        <source src="music/Letter.mp3" type="audio/mpeg">
    </audio>
</div>

<script>
const startBtn = document.getElementById('startBtn');
const bgMusic = document.getElementById('bgMusic');
const musicPlayer = document.getElementById('musicPlayer');
const cake = document.getElementById('cake');
const flame = document.getElementById('flame');
const cakeScreen = document.getElementById('cakeScreen');
const mainContent = document.getElementById('mainContent');

// Start button click
startBtn.addEventListener('click', () => {
    bgMusic.play().catch(e=>console.log(e));
    musicPlayer.classList.add('show');
    startBtn.style.display = 'none';
});

// Cake click - blow candle and show main content
cake.addEventListener('click', () => {
    flame.classList.add('blown');
    setTimeout(() => {
        cakeScreen.classList.add('hidden');
        mainContent.classList.remove('hidden');
    }, 1000);
});

// Example memories (ä½ å¯ä»¥æ›¿æ¢/å¢åŠ )
const memories = [
    {category:'school', icon:'ğŸ’', title:'é«˜ä¸­ç”Ÿæ´»', content:'åˆšå»é«˜ä¸­â€¦', date:'é«˜ä¸€'},
    {category:'music', icon:'ğŸµ', title:'æ— æ¡ä»¶', content:'ä¸€ç›´å¬çš„æ­Œæ›²â€¦', date:'ä¸€ç›´ä»¥æ¥'},
    {category:'thoughts', icon:'ğŸ’­', title:'å›°æƒ‘', content:'å†…å¿ƒç‹¬ç™½â€¦', date:'æŸå¤©'},
    {category:'journey', icon:'âœˆï¸', title:'äº‘å—ä¹‹æ—…', content:'ä¸€èµ·æ—…è¡Œâ€¦', date:'äº‘å—'}
];

// Generate cards
function generateCards(filter='school'){
    const container=document.getElementById('cardsContainer');
    container.innerHTML='';
    memories.filter(m=>m.category===filter).forEach(memory=>{
        const card=document.createElement('div');
        card.className='card';
        card.dataset.category=memory.category;
        card.onclick=function(){this.classList.toggle('flipped');};
        card.innerHTML=`
            <div class="card-inner">
                <div class="card-front">
                    <div class="card-icon">${memory.icon}</div>
                    <h3>${memory.title}</h3>
                </div>
                <div class="card-back">
                    <h4>${memory.title}</h4>
                    <p>${memory.content}</p>
                    <p class="date">${memory.date}</p>
                </div>
            </div>`;
        container.appendChild(card);
    });
}

// Filter buttons
document.querySelectorAll('.filter-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
        document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        generateCards(btn.dataset.filter);
    });
});

// Random card
function revealRandomCard(){
    const cards=document.querySelectorAll('.card');
    const unflipped=Array.from(cards).filter(c=>!c.classList.contains('flipped'));
    if(unflipped.length===0){
        cards.forEach(c=>c.classList.remove('flipped'));
        alert('æ‰€æœ‰å›å¿†å·²æ­å¼€ï¼ğŸ‰');
        return;
    }
    const card=unflipped[Math.floor(Math.random()*unflipped.length)];
    card.scrollIntoView({behavior:'smooth',block:'center'});
    setTimeout(()=>{card.classList.add('flipped');},600);
}

// Initialize
generateCards();
</script>
</body>
</html>
