
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹ ğŸ‚</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }
        /* Background music player */
        .music-player {
            display: none;
        }
        .cake-container {
            text-align: center;
            color: white;
            animation: fadeIn 1s ease-in;
        }
        .cake-container h1 {
            font-size: 3em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .cake {
            width: 250px;
            height: 300px;
            margin: 0 auto 30px;
            position: relative;
            cursor: pointer;
            transition: opacity 0.3s;
        }
        .cake.hidden-element {
            display: none;
        }
        .cake-layer {
            width: 200px;
            height: 60px;
            background: linear-gradient(to bottom, #ff9a9e 0%, #fad0c4 100%);
            border-radius: 10px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .layer1 { bottom: 0; }
        .layer2 { bottom: 60px; width: 180px; }
        .layer3 { bottom: 120px; width: 160px; }
        .candle {
            width: 10px;
            height: 40px;
            background: #fff;
            position: absolute;
            bottom: 180px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 5px 5px 0 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .flame {
            width: 20px;
            height: 30px;
            background: radial-gradient(circle, #ffeb3b 0%, #ff9800 50%, transparent 70%);
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: flicker 0.3s infinite alternate;
        }
        .flame.blown {
            animation: blowOut 0.5s forwards;
        }
        @keyframes flicker {
            0% { transform: translateX(-50%) scale(1); }
            100% { transform: translateX(-50%) scale(1.1); }
        }
        @keyframes blowOut {
            to { 
                opacity: 0;
                transform: translateX(-50%) translateY(-30px) scale(0.5);
            }
        }
        .instruction {
            font-size: 1.3em;
            margin-top: 20px;
            opacity: 0.9;
            transition: opacity 0.3s;
        }
        .instruction.hidden-element {
            display: none;
        }
        .start-btn {
            margin-top: 30px;
            padding: 18px 45px;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.3em;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
            animation: float 3s ease-in-out infinite;
            z-index: 10;
            position: relative;
        }
        .start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.5);
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .hidden {
            display: none;
        }
        .main-content {
            padding: 40px 20px;
            width: 100%;
            max-width: 1400px;
            animation: slideIn 0.8s ease-out;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        .header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .filter-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
        }
        .filter-btn {
            padding: 12px 25px;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        .filter-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        .card {
            perspective: 1000px;
            min-height: 400px;
            cursor: pointer;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            min-height: 400px;
            backface-visibility: hidden;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .card-front {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .card-back {
            background: white;
            transform: rotateY(180deg);
            overflow-y: auto;
        }
        .card-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }
        .card-front h3 {
            font-size: 2em;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        .card-back h4 {
            color: #667eea;
            font-size: 1.6em;
            margin-bottom: 20px;
            text-align: center;
        }
        .card-back p {
            color: #333;
            line-height: 1.8;
            margin-bottom: 15px;
            text-align: left;
        }
        .card-back .date {
            margin-top: 20px;
            font-style: italic;
            color: #888;
            font-size: 0.9em;
            text-align: center;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        .random-btn {
            padding: 15px 35px;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            margin: 0 auto;
            display: block;
        }
        .random-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0,0,0,0.4);
        }
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .filter-container {
                gap: 10px;
            }
            
            .filter-btn {
                padding: 10px 20px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <!-- Birthday Cake Screen -->
    <div class="cake-container" id="cakeScreen">
        <h1>ğŸ‰ ç”Ÿæ—¥å¿«ä¹!ğŸ‰</h1>
        <div class="cake hidden-element" id="cake">
            <div class="cake-layer layer3"></div>
            <div class="cake-layer layer2"></div>
            <div class="cake-layer layer1"></div>
            <div class="candle">
                <div class="flame" id="flame"></div>
            </div>
        </div>
        <p class="instruction hidden-element" id="instruction">ğŸ’¨ è¯·å…ˆè®¸ä¸ªæ„¿,ç‚¹å‡»è›‹ç³•æŠŠèœ¡çƒ›å¹ç­(æŠ½è±¡çš„ä»ªå¼æ„Ÿhhh)</p>
        <button class="start-btn" id="startBtn"> ç‚¹å‡»è¿›å…¥ğŸ“© </button>
    </div>

    <!-- Main Content -->
    <div class="main-content hidden" id="mainContent">
        <div class="header">
            <h1>âœ¨ ä¸€äº›è®°å¿† âœ¨</h1>
            <p style="font-size: 1.1em; margin-bottom: 20px; line-height: 1.6; max-width: 600px; margin-left: auto; margin-right: auto; opacity: 0.95;">
                åˆæ˜¯ä¸€å¹´! è¿˜æ˜¯ä¸€ä»½ç”µå­ç¤¼ç‰©ï¼Œåœ¨å‡ ä¸ªæœˆå‰å°±å¼€å§‹æƒ³ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåˆé€‚çš„ç‚¹å­ã€‚åæ¥å¿½ç„¶è§‰å¾—ï¼Œä¹Ÿè®¸å¯ä»¥åˆ†äº«ä¸€äº›è®°å¿†ã€‚æ•´ä¸ªè¿‡ç¨‹è¿˜æœ‰ç‚¹ç‚¹æŠ˜ç£¨ï¼Œåƒæ˜¯æˆ‘ä»¥ä¸ºä¸è®°å¾—çš„äº‹æƒ…åˆæ¶Œäº†å‡ºæ¥ã€‚æƒ³ç”¨è¿™ä¸ªå½¢å¼æŒ‘ç€åˆ†äº«ä¸€äº›ï¼ˆè§è°…è¡¨è¾¾ä¸æ¸…ä»¥åŠæ˜¯å¾ˆä¸»è§‚çš„è®°å¿†ï¼‰ã€‚
            </p>
            <p style="margin-bottom: 20px;">é€‰æ‹©ä¸€ä¸ªå…³é”®è¯æ¥æ¢ç´¢å›å¿†,æˆ–ç‚¹å‡»ä»»æ„å¡ç‰‡</p>
            
            <div class="filter-container">
                <button class="filter-btn active" data-filter="school">æ ¡å›­ç¢ç‰‡</button>
                <button class="filter-btn" data-filter="music">æ­Œæ›²è®°å¿†</button>
                <button class="filter-btn" data-filter="thoughts">ç¢ç¢å¿µ</button>
                <button class="filter-btn" data-filter="journey">æ—…è¡Œè®°å¿†</button>
            </div>
        </div>
        <div class="cards-container" id="cardsContainer">
            <!-- Cards will be generated by JavaScript -->
        </div>
        <button class="random-btn" onclick="revealRandomCard()">ğŸ² éšæœºç¿»å¼€ä¸€å¼ å›å¿†</button>
    </div>

    <!-- Background Music (hidden audio) -->
    <audio id="bgMusic" loop>
        <source src="music/Letter.mp3" type="audio/mpeg">
    </audio>

    <script>
        const memories = [
            {
                category: 'school',
                icon: 'ğŸ’',
                title: 'å†›è®­æ—¶',
                content: 'åˆšå»é«˜ä¸­çš„æ—¶å€™å¯¹æˆ‘çš„å†²å‡»è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œå¾ˆå¤šäº‹æƒ…å¥½åƒå¤§å®¶éƒ½ç†æ‰€åº”å½“çš„çŸ¥é“å’Œç†è§£ï¼Œæˆ‘æ˜¯å¾ˆæŠ“ççš„çŠ¶æ€ã€‚æˆ‘è¿˜è®°å¾—å†›è®­çš„æ—¶å€™çœ‹å¼€å­¦ç¬¬ä¸€è¯¾ï¼Œé‚£å‡ å¤©å¥½åƒèº«ä½“å¿ƒç†è¿˜éƒ½æŒºç´¯ï¼Œç»“æœæœ€åç»™æˆ‘çœ‹ç¡ç€äº†ã€‚æˆ‘åé¢è¿˜æ„Ÿè§‰å¾ˆæŠ±æ­‰ï¼Œè¿˜è·Ÿå´è€å¸ˆè¯´æŠ±æ­‰ï¼ˆä»–è¯´å¾ˆæ­£å¸¸ï¼Œåé¢æ‰çŸ¥é“å¥½åƒè¿™äº›ä¸œè¥¿å¯ä»¥ä¸é‚£ä¹ˆè®¤çœŸçœ‹ï¼Œç¡ç€ä¹Ÿè¿˜å¥½ï¼‰ã€‚',
                date: 'é«˜ä¸€'
            },
            {
                category: 'school',
                icon: 'ğŸ‡¨ğŸ‡³',
                title: 'å‡æ——ä»ªå¼',
                content: 'å‡æ——æ—¶å¬æ ¡æ­Œæ„Ÿè§‰æœ‰ç‚¹æƒ³å“­ï¼Œæ¬¢å¿«çš„æ—‹å¾‹ä¸­å´æ˜¯è‡ªå·±åœ¨ä¸€ä¸ªè›®ä¸å®‰çš„ç¯å¢ƒï¼Œæ›´â€œç»æœ›â€çš„æ˜¯ï¼Œå¥½åƒè¦åœ¨è¿™é‡Œåº¦è¿‡å¾ˆä¹…å¾ˆä¹…lolã€‚å†æ¬¡å› ä¸ºæ ¡æ­Œæœ‰äº›æƒ…ç»ªçš„æ³¢æ¾œæ˜¯å¿«æ¯•ä¸šçš„æ—¶å€™çš„å‡æ——ä»ªå¼ï¼Œæœ‰äº›ä¸èˆè¿™æ®µæ—¥å­ï¼Œè¿™æ®µæ—¥å­çš„ä½ å’Œæˆ‘ã€‚æ ¡é¢†å¯¼ä»¬åœ¨æ¼«é•¿åœ°å‘è¨€ï¼Œæˆ‘ä»¬æ”¾ç©ºå¤§è„‘ï¼Œä½ å°±åœ¨æˆ‘å‰é¢ï¼Œæˆ‘æ•…æ„æ‰¾äº‹å»æ‹½äº†æ‹½ä½ çš„è¡£æœã€‚',
                date: 'é«˜ä¸€+é«˜ä¸‰'
            },
            {
                category: 'school',
                icon: 'ğŸ§‘â€ğŸ¤â€ğŸ§‘',
                title: 'çŸ¥é“ä½ ',
                content: 'å·²ç»è°ƒä¾ƒå¾ˆå¤šæ¬¡è‡ªæˆ‘ä»‹ç»äº†ï¼Œä½†çœŸçš„çŸ¥é“ä½ è¿˜æ˜¯æœ‰æ¬¡å°æœè¯´å¥¹è®¤è¯†åˆ°äº†ä½ ï¼Œåƒæ˜¯è€æœ‹å‹ä¸€æ ·è¿˜æŒºèŠå¾—æ¥ã€‚å¥½åƒæ˜¯å»æ‹¿ä¸œè¥¿ï¼Œä¸‹é›¨æ‰“äº†ä¸€æŠŠä¼è®¤è¯†çš„ï¼ˆå¯èƒ½ä¸å¯¹ï¼‰ã€‚æˆ‘å¾ˆä½©æœåœ¨è¿™ä¹ˆçŸ­çš„æ—¶é—´å†…å°±è®¤è¯†äº†ï¼Œè€Œä¸”ç®—æ˜¯æˆä¸ºäº†â€œå¥½åŒå­¦â€ã€‚åé¢ä½ åˆ°æˆ‘ä»¬å®¿èˆï¼Œæˆ‘è¿˜åœ¨æƒ³è¿™æ ·æ˜¯ä¸æ˜¯æ›´éš¾ä»¥èå…¥ï¼Œåˆšå’Œå°æœç¨å¾®ç†Ÿä¸€ç‚¹ï¼Œå¥¹çš„â€œè€æœ‹å‹â€ä¹Ÿæ¥äº†ã€‚æœ‰æ®µæ—¶é—´å¥½åƒä¼šè·Ÿç€ä½ ä»¬åé¢ï¼Œå¬ä½ ä»¬è®²è¯ï¼Œä¼¼æ‡‚éæ‡‚ï¼Œæ„Ÿè§‰è¿˜æ˜¯è‡ªå·±èµ°æ¯”è¾ƒèˆ’æœï¼ˆè¿™å—å°è±¡å¾ˆæ¨¡ç³Šäº†ï¼‰ã€‚',
                date: 'é«˜ä¸€'
            },
            {
                category: 'school',
                icon: 'ğŸ˜„',
                title: 'å¾ˆæ¬£èµçš„ä¸€ç‚¹',
                content: 'æœ€å¼€å§‹æœ‰ä¸€ç‚¹æ„Ÿè§‰ä½ å’Œåˆ«äººä¸å¤ªä¸€æ ·ï¼Œæ˜¯ä½ æ¯”è¾ƒè‡ªç„¶çš„è€å¿ƒã€‚æ¯”å¦‚è¯´åˆ°ä¸€ä¸ªæˆ‘å®Œå…¨ä¸äº†è§£çš„è¯é¢˜ï¼ˆç»å¸¸å‘ç”Ÿçš„äº‹æƒ…ï¼‰ï¼Œå¤§å®¶å¥½åƒä¼šæƒŠè®¶äºæˆ‘ç«Ÿç„¶ä¸çŸ¥é“ã€‚æœ‰æ—¶å€™æˆ‘ä¹Ÿå°±ä¸æƒ³è¯´çŸ¥ä¸çŸ¥é“äº†ï¼Œå°±æ¨¡æ£±ä¸¤å¯åœ°ç³Šå¼„è¿‡å»ã€‚ä½†ä½ å¥½åƒæ¯æ¬¡éƒ½æ„¿æ„è€å¿ƒåœ°ç»™æˆ‘è§£é‡Šï¼ˆç”šè‡³ä½ ä¸æ˜¯æ•…æ„è§£é‡Šï¼Œè§£é‡Šåœ°å¾ˆè‡ªç„¶å“ï¼‰ã€‚äºæ˜¯æˆ‘å¥½åƒä¹Ÿæ›´æ•¢é—®ï¼Œæˆ–è€…ç²—æš´çš„è§£è¯»ä¸€äº›ä»€ä¹ˆäº†ï¼ˆæ¯”å¦‚â€œå—å—åŒ—åŒ—â€ï¼‰ï¼Œå½“ç„¶æœ‰æ—¶å€™ä½ ä¹Ÿç¬‘ç¬‘æˆ‘çš„è§£è¯»/ä¹±å‘è¨€ï¼Œä½†é‚£ç§äº’åŠ¨æˆ‘æ„Ÿè§‰å¾ˆæ”¾æ¾ã€‚',
                date: 'é«˜ä¸€/äºŒ'
            },
            {
                category: 'school',
                icon: 'ğŸ’™',
                title: 'æ˜ŸæœŸå¤©',
                content: 'å‘¨æœ«è¿”æ ¡çš„æ—¶å€™,æˆ‘è¿›å›½é™…éƒ¨çš„é—¨éƒ½è¦å…ˆçœ‹çœ‹ä½ çš„è“è‰²ç®±å­æœ‰æ²¡æœ‰åœ¨,å¦‚æœæœ‰çš„è¯æ„Ÿè§‰ä¼šæ›´åŠ å¼€å¿ƒã€‚å‘¨æœ«æ²¡æœ‰è§é¢å¥½åƒå°±å¥½ä¹…äº†ã€‚æœ‰æ—¶å€™æˆ‘è¿›æ•™å®¤,å‘ç°åœ¨è¶´ç€ç¡è§‰,çœ‹èµ·æ¥æœ‰äº›ç–²æƒ«ã€‚ä½ ç»å¸¸è¯´åè½¦æœ‰ç‚¹æ²¡ç¡é†’æˆ–è€…æ™•ä¹ã€‚æœ‰æ—¶å€™ä¼šåœ¨å……ç”µæŸœæ—åç€èŠå¤©,é‚£é‡Œæ›´éšè”½ä¸€äº›,å¯ä»¥ä»äººç¾¤ä¸­æ¶ˆå¤±,æ…¢æ…¢èµ°è¿›å¯¹æ–¹çš„ä¸–ç•Œã€‚',
                date: 'æ¯ä¸ªå‘¨æœ«'
            },
            {
                category: 'school',
                icon: 'ğŸ“',
                title: 'æ™šè‡ªä¹ ',
                content: 'æ™šè‡ªä¹ è¯¾é—´æƒ³æ‰¾ä½ æ— èŠåœ°å¹²äº‹,å¼€ä¸€äº›å¥‡æ€ªçš„ç©ç¬‘,åœ¨é»‘æ¿æˆ–è¯•å·ä¸Šä¹±å†™ä¹±ç”»ã€‚æˆ‘è®°å¾—æœ‰å¼ ç…§ç‰‡æ˜¯ä½ æŠŠè¿èŠ±æ¸…ç˜Ÿèƒ¶å›Šçš„è¯ç‰‡ç›’å­è´´åˆ°äº†æˆ‘çš„é‹ä¸Šã€‚ç–«æƒ…çš„ä½“æ¸©è¡¨ä½ ä¹Ÿä¼šå¸®æˆ‘å†™,æˆ‘è®¨åŒå†™é‚£ä¹ˆå¤šå­—ä¼šå¾ˆæ­ªæ­ªæ‰­æ‰­,ä½†ä½ è¯´ä½ æ­£å¥½äº«å—,å†™å¾—è¿˜å¾ˆå¥½çœ‹ã€‚å†åæ¥çš„å¤§å­¦,æˆ‘å¥½åƒæ²¡æœ‰å†é‡åˆ°ä¼šå–œæ¬¢åœ¨çº¸ä¸Šå†™å•Šå†™å•Šçš„äººã€‚',
                date: 'æ™šè‡ªä¹ æ—¶å…‰'
            },
            {
                category: 'school',
                icon: 'ğŸŒ³',
                title: 'æ ¡å›­æ¼«æ­¥',
                content: 'é¥­åæºœè¾¾,çœ‹å¶å­å¤©ç©ºå’Œé˜³å…‰ã€‚æœ‰æ—¶å€™è¿˜å¯ä»¥é‚£æ ·å­æ¨ä¸€æ¨ä½ ã€‚ä»çŒæœ¨æ—é‡Œå¯ä»¥çœºæœ›åˆ°"å¤–é¢çš„ä¸–ç•Œ",æœ‰å¾ˆå¤šå¤§è´§è½¦è½°è½°å£°ã€‚ç°åœ¨è¿˜ç•™ä¸‹æ¥çš„é‚£å¼ ç…§ç‰‡,æ˜¯è¢«æ’è§äº†,æˆ‘ä¿©åœ¨äº­å­ä¸‹ç¬‘ã€‚é£Ÿå ‚é‡Œä¸€èµ·åƒé¥­,ä¸¤ä¸ªè“è‰²çš„æ¿å‡³æŒ¨åœ¨ä¸€èµ·ã€‚åƒé¥­å‰ç»å¸¸ä¼šæœ‰ç§å¾ˆé¥¿çš„æ„Ÿè§‰,åƒèµ·æ¥æ ¼å¤–æ»¡è¶³ã€‚é˜³å…‰å……è¶³çš„æ—¶å€™,è¿˜ä¼šæŠŠæ ¡æœè„±ä¸‹æ¥ä¸€èµ·ä¸¾ç€é®é˜³ã€‚',
                date: 'æ ¡å›­æ—¥å¸¸'
            },
            {
                category: 'school',
                icon: 'âš½',
                title: 'æ“åœº',
                content: 'æœ‰æ—¶å€™ä¹Ÿä¼šèµ°åˆ°æ“åœº,ä½ ç»™æˆ‘è®²è¿‡ä½ é‚£ä½æ‰‹åˆç»†åˆé•¿åˆç™½çš„åŒæ¡Œã€‚é‚£æ˜¯ç¬¬ä¸€æ¬¡æˆ‘å¬è¯´äººçš„æ‰‹è¿˜æœ‰"å¥½ä¸å¥½çœ‹"è¿™ä¸€è¯´ã€‚å¥½å¤šå›å¿†æ˜¯åœ¨æ“åœºä¸ŠèŠå¤©çš„æˆ‘ä»¬ã€‚ç¬¬ä¸€æ¬¡èŠæ¯”è¾ƒæ·±åˆ»çš„è¯é¢˜ä¹Ÿæ˜¯åœ¨é‚£è¾¹ç›˜ç€è…¿èŠã€‚æˆ‘ä»å½“æ—¶å°±ç‰¹åˆ«æƒ³å¬ä½ æ›´å¤šçš„è®²è‡ªå·±,ä½ æ˜¯ä¸ªå¾ˆå¥½çš„å€¾å¬è€…,ä½†ä¹Ÿéœ€è¦è¢«å¬è§å§ã€‚æ¯ä¸€æ¬¡è¢«å…è®¸èµ°è¿›ä½ ,æˆ‘éƒ½çœŸçš„å¾ˆå¼€å¿ƒã€‚',
                date: 'æ“åœºæ—¶å…‰'
            },
            {
                category: 'journey',
                icon: 'âœˆï¸',
                title: 'äº‘å—ä¹‹æ—…',
                content: 'å­¦æ ¡å¤–çš„ç¾å¥½å›å¿†åœ¨äº‘å—,å¥½åƒä¸€ç¾¤äººä¸€èµ·æ—…è¡Œå’Œä¸¤ä¸ªäººä¸€èµ·ä¹Ÿæ²¡å•¥åŒºåˆ«,å°±åƒæ˜¯åœ¨äººç¾¤é‡Œçš„ä¿©äººã€‚åœ¨å¤§å·´ä¸Šã€é…’åº—é‡Œã€åƒé¥­çš„åœ°æ–¹,éƒ½å¸¦ç€é¸­èˆŒå¸½,ç©¿ç€é•¿ç¾½ç»’æœã€‚æœ‰äººè¯´æˆ‘ä¿©åƒæ˜¯å§å¦¹æˆ–åŒèƒèƒã€‚äº‘å—é‡Œçš„è¿™ä¿©äººå¥½åƒæœ‰äº†å¥½å¤šé»˜å¥‘,æ— ç–‘æ˜¯æ…¢æ…¢æ€»è¿›çš„è¿‡ç¨‹ã€‚',
                date: 'äº‘å—'
            },
            {
                category: 'journey',
                icon: 'ğŸ­',
                title: 'åŒ—äº¬ä¹‹è¡Œ',
                content: 'åé¢å°±æœ‰äº†åŒ—äº¬,ä¸€èµ·å»å¬ç›¸å£°å’Œçœ‹å‰§çš„å°è±¡æ ¼å¤–æ·±ã€‚çœ‹å®Œç›¸å£°çš„é‚£æ™š,æˆ‘ä»¬èµ°åœ¨åŒ—äº¬å¤œé‡Œçš„è¡—é“,èŠç€åé¢çš„äº‹æƒ…,åœ¨é…’åº—åˆèŠäº†å¾ˆä¹…ã€‚æ˜¯æœ‰äº›æ‚²ä¼¤çš„è¯é¢˜,åˆæ˜¯é è¿‘å½¼æ­¤çš„å½“ä¸‹ã€‚ç°åœ¨å›å¿†å¯¹é‚£æ™šçš„è®°å¿†å˜æ·¡äº†å¾ˆå¤š,æˆ‘æ²¡æœ‰è®°å½•æ—¥è®°ã€‚æ›´å¤šçš„æ˜¯ä¸€ç§æ„Ÿè§‰,ä¸€ç§æƒ³çè—çš„æ„Ÿå—,ä¹Ÿæ˜¯å¯èƒ½å¾ˆéš¾å†å›å»çš„æ„Ÿå—ã€‚',
                date: 'åŒ—äº¬'
            },
            {
                category: 'music',
                icon: 'ğŸŒ¸',
                title: 'æ— æ¡ä»¶',
                content: 'æˆ‘ä»å¾ˆä¹…ä¹‹å‰éƒ½æœ‰å¬çš„ã€Šæ— æ¡ä»¶ã€‹,è¿™ä¹ˆè®²è¿˜æ˜¯å¾ˆå¥‡æ€ª,ä½†æ˜¯æˆ‘ä¼šæƒ³æ›´å¤šæ— æ¡ä»¶åœ°å»ç»™äºˆè‡ªå·±æƒ³å»ç»™äºˆçš„ä¸œè¥¿ã€‚ä½ å¯ä»¥æ”¾è‚†åœ°æŒ‰ç…§ä½ çš„æ–¹å¼æ´»ç€,ä½†åŒæ—¶å®‰å¿ƒåœ°ã€å¿ƒå®‰ç†å¾—åœ°çŸ¥é“å½¼æ­¤çš„å­˜åœ¨ã€‚æ„Ÿè§‰æ›´å¯èƒ½æ˜¯æœ‰äº›ä¸œè¥¿æƒ³è‡ªç„¶è€Œç„¶åœ°æ— æ¡ä»¶åœ°æ”¾å°„å‡ºæ¥ã€‚',
                date: 'ä¸€ç›´ä»¥æ¥'
            },
            {
                category: 'music',
                icon: 'ğŸ§¹',
                title: 'æ‰“æ‰«å«ç”Ÿ',
                content: 'æœ‰ä¸€æ¬¡ç­çº§å¤§æ‰«é™¤ï¼Œè¦æ¸…ç†çš„å¾ˆå½»åº•ï¼ˆæ¥åº”å¯¹æ£€æŸ¥ï¼‰ã€‚æ“¦çª—æˆ·å’Œçª—å°æ—¶ï¼Œçª—å°ä¸Šæœ‰å¾ˆå¤šé™ˆå¹´è€ç°ã€‚èœ·ç¼©ç€èº«å­å¾ˆéš¾ç”¨ä¸ŠåŠ›ï¼Œä½†ä½ æœ‰åœ¨å¸®åŠ©æˆ‘ä¸€èµ·ã€‚ä¸€èµ·åšäº‹ï¼ˆæ‰“æ‰«å«ç”Ÿâ€¦â€¦ï¼‰ç°åœ¨å›æƒ³èµ·æ¥å¥½åƒéƒ½æ˜¯ç§¯æçš„å›å¿†ã€‚åé¢ç”¨æ•™å®¤å±å¹•æ”¾äº†ã€Šæœ€ä½³æŸå‹ã€‹ï¼Œåœ°é¢è¿˜æ˜¯æ¹¿æ¼‰æ¼‰çš„ï¼Œç»ˆäºå¹²å®Œæ´»äº†ï¼Œæˆ‘ç˜«åœ¨æ¤…å­ä¸Šå¬ã€‚é‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è®¤çœŸå¬è¿™é¦–æ­Œï¼ˆç¬¬ä¸€æ¬¡çŸ¥é“å®ƒå¥½åƒæ˜¯çœ‹ä½ åœ¨çº¸ä¸Šå†™çš„æ­Œè¯ï¼Œä½†æ²¡å¾ˆæ‡‚ï¼‰ï¼Œåœ¨æƒ³ç€æˆ‘å’Œä½ ä»¥åè¿˜èƒ½è¿™æ ·å—ï¼Ÿæˆä¸ºå¾ˆä¹…çš„æœ‹å‹æ˜¯ä¸æ˜¯å¾ˆéš¾ã€‚',
                date: 'å¤§æ¦‚æ˜¯é«˜ä¸‰'
            },
            {
                category: 'thoughts',
                icon: 'ğŸ’­',
                title: 'å›°æƒ‘',
                content: 'åˆ°ç°åœ¨å¥½å¤šäº‹æƒ…å¥½åƒè¿˜æ˜¯æ²¡ä»€ä¹ˆå¤´ç»ª,å¥½å¤šæƒ³æ³•è¿˜æ˜¯ä¹±ä¸ƒå…«ç³Ÿã€‚æˆ‘ç¡®å®æ²¡æœ‰è¿™ä¹ˆå‘è‡ªå†…å¿ƒçš„æƒ³å¾ˆå¥½åœ°å¯¹å¾…å¦ä¸€ä¸ªäºº,è¿™æ ·ä¸ºå¦ä¸€äººè€Œå¼€å¿ƒå’Œéš¾è¿‡,è¿™æ ·æ¸´æœ›å»æ›´å¤šåœ°äº†è§£å¥¹ã€‚æˆ‘å¥½åƒè‡ªå·±ä¹Ÿå¾ˆéš¾å»å®šä¹‰è¿™æ˜¯æ€ä¹ˆæ ·çš„æƒ…æ„Ÿã€‚æœ‰äº›ä¸œè¥¿å¯èƒ½ä¸éœ€è¦å®šä¹‰,æ›´éœ€è¦æ•æ„Ÿåœ°æ„ŸçŸ¥åˆ°è‡ªå·±çš„æƒ³æ³•,åœ¨å¯¹æ–¹èˆ’æœçš„å‰æä¸‹å»åšã€‚',
                date: 'å†…å¿ƒç‹¬ç™½'
            },
            {
                category: 'thoughts',
                icon: 'ğŸŒ…',
                title: 'åˆ†åˆ«',
                content: 'å¿«è¦åˆ†åˆ«çš„æ—¶å€™,æ˜¯æˆ‘åˆšåˆšèµ°è¿›ä½ ä¸€ç‚¹çš„æ—¶å€™ã€‚å½“æ—¶è§‰å¾—æ—¶é—´æœ‰æ—¶å€™è¿˜æ˜¯å¥½æ®‹å¿,æƒ³è®©å®ƒæ”¾æ…¢çš„æ—¶å€™å®ƒå´åœä¸ä¸‹æ¥ã€‚æˆ‘å¾ˆèˆä¸å¾—ä½ ,é«˜ä¸€çš„æ—¶å€™æ€ä¹ˆä¼šæƒ³åˆ°èƒ½é‡åˆ°è¿™æ ·çš„ä½ è®©æˆ‘æœ‰è¿™ä¹ˆæ·±çš„é“¾æ¥ã€‚æˆ‘è¯´æˆ‘è¦çæƒœ,è¦å°½åŠ›ä¿æŠ¤ã€‚è¦ä¸€ç›´è®°å¾—å¤šè¿ˆå‡ºä¸€æ­¥,è¦ä¸»åŠ¨ä¸€ç‚¹ã€‚åˆ«ä¸å¥½æ„æ€,åˆ«æ€•è‡ªä½œå¤šæƒ…ã€‚',
                date: '3.29'
            },
            {
                category: 'thoughts',
                icon: 'ğŸ“±',
                title: 'å±å¹•ä¸¤ç«¯',
                content: 'è§†é¢‘è¿˜æœ‰å‘æ¶ˆæ¯çš„æ—¶å€™æœ‰æ—¶å€™ä¹Ÿåœ¨æƒ³,ä½ æ˜¯æ€ä¹ˆæƒ³çš„ã€‚æˆ‘äººåœ¨è¿™é‡Œ(æŒ‡å±å¹•å¯¹å²¸)æ˜¯è®©ä½ å¼€å¿ƒä¸€ç‚¹è¿˜æ˜¯ä¸å¼€å¿ƒä¸€ç‚¹?ä½ èƒ½ä¸èƒ½æ„Ÿå—åˆ°æˆ‘çš„å…³å¿ƒå’Œåœ¨ä¹?å¦‚æœæˆ‘ç”¨æˆ‘çš„æ–¹å¼æƒ³å»æ›´å¥½åœ°æ¥ä½ä½ çš„å¼€å¿ƒå’Œä¸å¼€å¿ƒ,æ¿€åŠ¨å’Œå†·æ¼ ...æœ€åæ²¡æœ‰ä»€ä¹ˆ"ç”¨",é‚£æˆ‘å¥½åƒè¿˜æ˜¯è¦è¿™ä¹ˆåš,å¦‚æœåœ¨æ²¡æœ‰ä¼¤å®³åˆ°å¯¹æ–¹çš„å‰æä¸‹ã€‚',
                date: 'ç°åœ¨'
            },
            {
                category: 'thoughts',
                icon: 'ğŸŒŸ',
                title: 'æ¢¦',
                content: 'å°±åƒå‰ä¸€é˜µåšçš„æ¢¦ä¸€æ ·,å¦‚æœé«˜ä¸­é˜¶æ®µæ²¡æœ‰ä½ çš„è¯,æˆ‘å¾ˆéš¾æƒ³è±¡ä¼šæ˜¯æ€ä¹ˆæ ·ã€‚é‚£ä¸ªé˜¶æ®µçš„ç¾å¥½,å¾ˆå¤§çš„åŸå› æ˜¯å› ä¸ºæœ‰ä½ åœ¨ã€‚ä½ è®©æˆ‘æ„¿æ„ä¸»åŠ¨ä¸€äº›åœ°å»æ‰“å¼€è‡ªå·±,ä¹Ÿæƒ³è¦å»èµ°è¿›ä½ ,å»æ”¯æŒä½ ã€‚åœ¨æ­¤ä¹‹å‰æˆ‘å¯èƒ½æ²¡æœ‰æƒ³åˆ°äººå’Œäººè¿˜å¯ä»¥è¿™æ ·å­äº¤æµ,æ›´æ²¡æœ‰æƒ³åˆ°æˆ‘ä¼šæ„¿æ„æˆ–è€…è¯´æœ‰èƒ½åŠ›è¿™æ ·ã€‚è¿™æ ·çš„å…³ç³»æœ‰ä½ æˆ‘è§‰å¾—å°±å¾ˆå¹¸è¿ã€‚',
                date: 'æ°¸è¿œ'
            },
            {
                category: 'thoughts',
                icon: 'ğŸ',
                title: 'ç”Ÿæ—¥å¿«ä¹',
                content: 'ä¸ç®¡å’‹æ ·é‚£å°±ç”Ÿæ—¥å¿«ä¹!å¾ˆå¼€å¿ƒæˆ‘åœ¨æƒ³åœ¨è¿˜èƒ½æ¥å—çš„é¡¾è™‘çš„ç¨‹åº¦ä¸‹ã€è§‰å¾—æœ‰è¸©é›·é£é™©çš„æƒ…å†µä¸‹,è¿˜èƒ½æ„Ÿè§‰å®‰å…¨åœ°å»åˆ†äº«å¥½å¤šæœ‰ç‚¹ä¸ªäººä¸»è§‚çš„äº‹æƒ…ã€‚å¾ˆå¼€å¿ƒè¿˜èƒ½å’Œä½ (éš”ç€å±å¹•)ä¸€èµ·åº¦è¿‡ä¸€ä¸ªç”Ÿæ—¥!å¸Œæœ›æ–°çš„ä¸€å²å¼€å¿ƒã€‚',
                date: 'ä»Šå¤©'
            }
        ];

        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            let candleAudio = null;
            const cake = document.getElementById('cake');
            const flame = document.getElementById('flame');
            const cakeScreen = document.getElementById('cakeScreen');
            const mainContent = document.getElementById('mainContent');
            const bgMusic = document.getElementById('bgMusic');
            const musicPlayer = document.getElementById('musicPlayer');
            const startBtn = document.getElementById('startBtn');
            const instruction = document.getElementById('instruction');

            // è®¾ç½®èƒŒæ™¯éŸ³ä¹éŸ³é‡
            bgMusic.volume = 0.4;

            // ç‚¹å‡»"æ‰“å¼€ä¿¡"æŒ‰é’®
            startBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                // æ’­æ”¾èƒŒæ™¯éŸ³ä¹
                bgMusic.play().catch(err => console.log('Background music failed:', err));
                
                // æ˜¾ç¤ºè›‹ç³•å’Œè¯´æ˜æ–‡å­—
                cake.classList.remove('hidden-element');
                instruction.classList.remove('hidden-element');
                
                // éšè—æŒ‰é’®
                startBtn.style.opacity = '0';
                setTimeout(() => startBtn.style.display = 'none', 300);
                
                // æ˜¾ç¤ºéŸ³ä¹æ’­æ”¾å™¨
                musicPlayer.classList.add('show');
            });

            // ç‚¹å‡»è›‹ç³•
            cake.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                // æ£€æŸ¥è›‹ç³•æ˜¯å¦å¯è§
                if (cake.classList.contains('hidden-element')) {
                    return;
                }
                
                // æ’­æ”¾èœ¡çƒ›éŸ³æ•ˆ
                if (!candleAudio) {
                    candleAudio = new Audio();
                    candleAudio.src = 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZQQ0PVKzn77BdGAw+ltrzwHQuBSl+zPLaizsIGGS57OihUBELTKXh8bllHAU2jdXzzn0vBSh7yfDdkEEKElyw6OyrWBUIQ5zd8sFuJAUuhM/z1YU0Bhxqvu7mnEoODlOq5vCxYBoMPJTX88p6LgUme8rx3I1ACRZitOfur10YCkCY3PLEcSYELIHO8diJOQgZZ7zs6KFOEgtIoeLxtWQcBTWM1fPPgTEGHGu/7eeaTQ4PWKvl8LJiGgw7k9by';
                }
                candleAudio.play().catch(err => console.log('Candle audio failed:', err));
                
                // å¹ç­èœ¡çƒ›åŠ¨ç”»
                flame.classList.add('blown');
                
                // 2ç§’ååˆ‡æ¢åˆ°å›å¿†é¡µé¢
                setTimeout(() => {
                    cakeScreen.classList.add('hidden');
                    mainContent.classList.remove('hidden');
                }, 2000);
            });

            // Generate cards
            function generateCards(filter = 'school') {
                const container = document.getElementById('cardsContainer');
                container.innerHTML = '';
                
                const filteredMemories = memories.filter(m => m.category === filter);
                
                filteredMemories.forEach((memory, index) => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.dataset.category = memory.category;
                    card.onclick = function() { this.classList.toggle('flipped'); };
                    
                    card.innerHTML = `
                        <div class="card-inner">
                            <div class="card-front">
                                <div class="card-icon">${memory.icon}</div>
                                <h3>${memory.title}</h3>
                            </div>
                            <div class="card-back">
                                <h4>${memory.title}</h4>
                                <p>${memory.content}</p>
                                <p class="date">${memory.date}</p>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(card);
                });
            }

            // Filter functionality
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    generateCards(btn.dataset.filter);
                });
            });

            // Random card reveal
            window.revealRandomCard = function() {
                const cards = document.querySelectorAll('.card');
                const unflippedCards = Array.from(cards).filter(card => !card.classList.contains('flipped'));
                
                if (unflippedCards.length === 0) {
                    cards.forEach(card => card.classList.remove('flipped'));
                    alert('æ‰€æœ‰å›å¿†éƒ½å·²æ­å¼€ï¼ğŸ‰ ç‚¹å‡»å†æ¬¡å¼€å§‹');
                    return;
                }
                
                const randomCard = unflippedCards[Math.floor(Math.random() * unflippedCards.length)];
                randomCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                setTimeout(() => {
                    randomCard.classList.add('flipped');
                }, 600);
            };

            // Initialize
            generateCards();
        });
    </script>
</body>
</html>
